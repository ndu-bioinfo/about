<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Experience</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js?v=1.0.1"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
        }
        #resumeFrame {
            width: 100%;
            border: none;
        }
    </style>
</head>

<body>

    <!-- Button to trigger the download -->
    <button onclick="downloadPDF()">Download PDF</button>

    <!-- Embed the content of resume.html inside an iframe -->
    <iframe id="resumeFrame" src="resume/resume.html"></iframe>

    <script>
        // Function to dynamically adjust iframe height based on content
        window.onload = function() {
            var iframe = document.getElementById('resumeFrame');
            iframe.onload = function() {
                iframe.style.height = iframe.contentWindow.document.body.scrollHeight + 'px';
            };
        };

        // Function to download the content as PDF
        function downloadPDF() {
            // Default file name with current date and time
            var now = new Date();
            var dateTime = now.getFullYear() + '-' + 
                           (now.getMonth() + 1).toString().padStart(2, '0');
            var fileName = 'niudu_resume_' + dateTime;

            // Get the content of the iframe
            var element = iframe.contentWindow.document.body;

            // Convert HTML to PDF and trigger download
            html2pdf()
                .from(element)
                .set({
                    margin: 1,
                    filename: fileName + '.pdf',
                    html2canvas: { scale: 2 },
                    jsPDF: { orientation: 'portrait', unit: 'in', format: 'letter' }
                })
                .save();
        }
    </script>

</body>
</html>